(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{301:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(95),r=a(0),o=a.n(r),s=a(12),i=a(7),u=function(e){return{isAuth:e.auth.isAuth}};function l(e){return Object(i.b)(u,{})((function(t){t.isAuth;var a=Object(n.a)(t,["isAuth"]);return t.isAuth?o.a.createElement(e,a):o.a.createElement(s.a,{to:"/login"})}))}},305:function(e,t,a){e.exports={profile:"ProFile_profile__27zqB"}},306:function(e,t,a){e.exports={myPosts:"MyPosts_myPosts__2mbhM",posts:"MyPosts_posts__3vLoQ"}},307:function(e,t,a){e.exports={item:"Post_item__1b-2_"}},308:function(e,t,a){"use strict";a.r(t);var n=a(58),r=a(59),o=a(71),s=a(70),i=a(0),u=a.n(i),l=a(103),c=a(305),m=a.n(c),p=a(52),d=a(41),f=a(114),h=a.n(f),v=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={editMode:!1,status:e.props.status},e.activateEditMode=function(){e.setState({editMode:!0})},e.deActivateEditMode=function(){e.setState({editMode:!1}),e.props.updateStatus(e.state.status)},e.onStatusChange=function(t){e.setState({status:t.currentTarget.value})},e}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return u.a.createElement("div",null,this.state.editMode?u.a.createElement("input",{autoFocus:!0,onBlur:this.deActivateEditMode,value:this.state.status,onChange:this.onStatusChange}):u.a.createElement("span",{onDoubleClick:this.activateEditMode},this.props.status," "))}}]),a}(u.a.Component),E=function(e){var t=e.userProfile,a=e.isOwner,n=e.toEditMode;return u.a.createElement("div",null,a&&u.a.createElement("button",{onClick:n}," Update Profile "),u.a.createElement("div",null,"FullName: ",t.fullName),u.a.createElement("div",null,"Looking for a job: ",t.lookingForAJob?"yes":"no"),u.a.createElement("div",null,"Skills : ",t.lookingForAJobDescription," "),u.a.createElement("div",null,"About me: ",t.aboutMe),u.a.createElement("div",null,"Contacts: ",Object.keys(t.contacts).map((function(e){return u.a.createElement(b,{key:e,contactTitle:e,contactValue:t.contacts[e]})}))))},b=function(e){return u.a.createElement("div",null,e.contactTitle," : ",e.contactValue)},P=a(136),g=a(137),k=a(80),S=a(61),y=a(73),O=a.n(y),j=Object(g.a)({form:"edit-profile"})((function(e){var t=e.userProfile,a=e.handleSubmit,n=e.error;return u.a.createElement("form",{onSubmit:a},u.a.createElement("div",null,u.a.createElement("button",null," Save"),n&&u.a.createElement("div",{className:O.a.formSummaryError},n),u.a.createElement("div",null,"Your name : ",u.a.createElement(P.a,{name:"fullName",component:k.a,placeholder:"Full Name",validate:[S.a]})),u.a.createElement("div",null,"Looking for a job? ",u.a.createElement(P.a,{name:"lookingForAJob",component:"input",type:"checkbox"})),u.a.createElement("div",null,"Skills : ",u.a.createElement(P.a,{name:"lookingForAJobDescription",component:k.b})),u.a.createElement("div",null,"About Me: ",u.a.createElement(P.a,{name:"aboutMe",component:k.b})),u.a.createElement("div",null,u.a.createElement("b",null,"Contacts :")," ",Object.keys(t.contacts).map((function(e){return u.a.createElement("div",{key:e},u.a.createElement("div",null,e," :"),u.a.createElement(P.a,{name:"contacts."+e,component:"input"}))})))))})),A={width:"60px",margin:"40px"},M=function(e){var t=e.userProfile,a=e.status,n=e.updateStatus,r=e.isOwner,o=e.savePhoto,s=e.saveProfile,l=Object(i.useState)(!1),c=Object(p.a)(l,2),m=c[0],f=c[1];if(!t)return u.a.createElement(d.a,null);return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",null,u.a.createElement("img",{style:A,src:t.photos.small||h.a,alt:"userPhoto"}),r&&u.a.createElement("input",{type:"file",onChange:function(e){var t=e.target.files;t&&t.length&&o(t[0])}}),u.a.createElement(v,{status:a,updateStatus:n}),m?u.a.createElement(j,{initialValues:t,userProfile:t,onSubmit:function(e){s(e).then((function(){return f(!1)}))}}):u.a.createElement(E,{toEditMode:function(){return f(!0)},isOwner:r,userProfile:t})))},w=a(306),C=a.n(w),_=a(307),D=a.n(_);function N(e){return u.a.createElement("div",null,u.a.createElement("div",{className:D.a.item},u.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/ru/9/9f/Safari-icon.png",alt:"icon"}),e.message),e.likes," like")}var F=u.a.memo((function(e){var t=e.addPost,a=e.postsData;return u.a.createElement("div",{className:C.a.myPosts},u.a.createElement(U,{onSubmit:function(e){return t(e.newPost)}}),u.a.createElement("div",{className:C.a.posts},a.map((function(e){return u.a.createElement(N,{key:e.id,likes:e.likes,message:e.message})}))))})),I=Object(S.b)(20),U=Object(g.a)({form:"NewPostForm"})((function(e){return u.a.createElement("form",{onSubmit:e.handleSubmit},u.a.createElement(P.a,{component:k.b,name:"newPost",placeholder:"New post",validate:[S.a,I]}),u.a.createElement("button",null," Send"))})),x=a(7),J=Object(x.b)((function(e){return{postsData:e.profilePage.postsData}}),{PostActionCreator:l.c.addPostActionCreator})((function(e){var t=e.postsData,a=e.PostActionCreator;return u.a.createElement(F,{postsData:t,addPost:function(e){a(e)}})}));function z(e){return u.a.createElement("div",{className:m.a.profile},u.a.createElement(M,{userProfile:e.userProfile,updateStatus:e.updateStatus,status:e.status,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),u.a.createElement(J,null))}var L=a(12),T=a(11),V=a(301),B=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"refreshProfile",value:function(){var e=+this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement(z,Object.assign({},this.props,{userProfile:this.props.userProfile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile})))}}]),a}(u.a.PureComponent);t.default=Object(T.d)(Object(x.b)((function(e){return{userProfile:e.profilePage.userProfile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:l.b,getStatus:l.a,updateStatus:l.g,savePhoto:l.f,saveProfile:l.e}),L.h,V.a)(B)}}]);
//# sourceMappingURL=4.46b05944.chunk.js.map