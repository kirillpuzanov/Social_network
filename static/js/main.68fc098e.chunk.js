(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{10:function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a,r,c=n(142),u=n.n(c).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"aee1e098-c1ec-45af-b764-0edfc4a89fa8"}}),i={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return u.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n)+(null===a?"":"&friend=".concat(a))).then((function(e){return e.data}))},unfollow:function(e){return u.delete("follow/".concat(e)).then((function(e){return e.data}))},follow:function(e){return u.post("follow/".concat(e)).then((function(e){return e.data}))}},o={authMe:function(){return u.get("auth/me").then((function(e){return e.data}))},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return u.post("auth/login",{email:e,password:t,rememberMe:n,captcha:a}).then((function(e){return e.data}))},logout:function(){return u.delete("auth/login").then((function(e){return e.data}))}},s={getCaptchaUrl:function(){return u.get("security/get-captcha-url").then((function(e){return e.data}))}},l={getProfile:function(e){return u.get("profile/".concat(e))},getStatus:function(e){return u.get("profile/status/".concat(e))},updateStatus:function(e){return u.put("profile/status/",{status:e})},updatePhoto:function(e){var t=new FormData;return t.append("image",e),u.put("profile/photo",t).then((function(e){return e.data}))},saveProfile:function(e){return u.put("profile",e).then((function(e){return e.data}))}};!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(a||(a={})),function(e){e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(r||(r={}))},100:function(e,t,n){e.exports={header:"Header_header__2cJrg",header_loginBlock:"Header_header_loginBlock__3eTen"}},103:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return E})),n.d(t,"g",(function(){return g})),n.d(t,"f",(function(){return h})),n.d(t,"e",(function(){return b}));var a=n(6),r=n.n(a),c=n(14),u=n(29),i=n(2),o=n(22),s=n(10),l=n(38),f={postsData:[{id:Object(o.a)(),message:"Hi, how are you?",likes:7},{id:Object(o.a)(),message:"Hi, how are you?",likes:7},{id:Object(o.a)(),message:"Hallo, i am fine!",likes:10}],userProfile:null,status:""},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"/PROFILE/ADD_POST":var n={id:Object(o.a)(),message:t.newPostText,likes:0};return Object(i.a)(Object(i.a)({},e),{},{postsData:[n].concat(Object(u.a)(e.postsData))});case"/PROFILE/SET-USER-PROFILE":return Object(i.a)(Object(i.a)({},e),{},{userProfile:t.userProfile});case"/PROFILE/SET-STATUS":return Object(i.a)(Object(i.a)({},e),{},{status:t.status});case"/PROFILE/UPDATE-PHOTO":return Object(i.a)(Object(i.a)({},e),{},{userProfile:Object(i.a)(Object(i.a)({},e.userProfile),{},{photos:t.photos})});default:return e}},m={addPostActionCreator:function(e){return{type:"/PROFILE/ADD_POST",newPostText:e}},setUserProfileAC:function(e){return{type:"/PROFILE/SET-USER-PROFILE",userProfile:e}},setStatusAC:function(e){return{type:"/PROFILE/SET-STATUS",status:e}},updatePhotoAC:function(e){return{type:"/PROFILE/UPDATE-PHOTO",photos:e}}},p=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.d.getProfile(e);case 2:a=t.sent,n(m.setUserProfileAC(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.d.getStatus(e);case 2:a=t.sent,n(m.setStatusAC(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.d.updateStatus(e);case 2:t.sent.data.resultCode===s.b.Success&&n(m.setStatusAC(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.d.updatePhoto(e);case 2:(a=t.sent).resultCode===s.b.Success&&n(m.updatePhotoAC(a.data.photos));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n,a){var c,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a().auth.userId,t.next=3,s.d.saveProfile(e);case 3:if((u=t.sent).resultCode!==s.b.Success){t.next=12;break}if(null===c){t.next=9;break}n(p(c)),t.next=10;break;case 9:throw new Error("userId can't be null");case 10:t.next=14;break;case 12:return n(Object(l.a)("edit-profile",{_error:u.messages[0]})),t.abrupt("return",Promise.reject(u.messages[0]));case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},114:function(e,t){e.exports="data:image/png;base64,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"},135:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var a=n(29),r=n(2),c=n(22),u={messagesData:[{id:Object(c.a)(),text:"hi"},{id:Object(c.a)(),text:"hello"},{id:Object(c.a)(),text:"goodbye!"}],dialogsData:[{id:Object(c.a)(),name:"Sasha"},{id:Object(c.a)(),name:"Masha"},{id:Object(c.a)(),name:"Dasha"},{id:Object(c.a)(),name:"Kirill"},{id:Object(c.a)(),name:"Stas"}]},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_MESSAGE":return Object(r.a)(Object(r.a)({},e),{},{messagesData:[{id:Object(c.a)(),text:t.newMessage}].concat(Object(a.a)(e.messagesData))});default:return e}},o={sendMessageAC:function(e){return{type:"SEND_MESSAGE",newMessage:e}}}},140:function(e,t,n){e.exports=n.p+"static/media/loader.859f1396.svg"},143:function(e,t,n){e.exports={PhotoAva:"User_PhotoAva__1mw6j"}},173:function(e,t,n){e.exports=n(300)},178:function(e,t,n){},24:function(e,t,n){e.exports={nav:"NavBar_nav__HnEU1",item:"NavBar_item__3u_xt",activeLink:"NavBar_activeLink__16yS3"}},300:function(e,t,n){"use strict";n.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var a=n(72),r=n.n(a),c=n(58),u=n(59),i=n(71),o=n(70),s=n(0),l=n.n(s),f=(n(178),n(24)),d=n.n(f),m=n(16);function p(){return l.a.createElement("nav",{className:d.a.nav},l.a.createElement("div",{className:d.a.item},l.a.createElement(m.b,{to:"/profile",activeClassName:d.a.activeLink},"Profile")),l.a.createElement("div",{className:d.a.item},l.a.createElement(m.b,{to:"/dialogs",activeClassName:d.a.activeLink},"Dialogs")),l.a.createElement("div",{className:d.a.item},l.a.createElement(m.b,{to:"/users",activeClassName:d.a.activeLink},"Users")),l.a.createElement("div",{className:d.a.item},l.a.createElement(m.b,{to:"/chat",activeClassName:d.a.activeLink},"DevChat")),l.a.createElement("div",{className:d.a.item},l.a.createElement(m.b,{to:"/music",activeClassName:d.a.activeLink},"Music")))}var E=n(12),g=n(7),h=n(41),b=n(141),v=Object(b.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),S=function(e){return e.usersPage.pageSize},O=function(e){return e.usersPage.totalUsersCount},j=function(e){return e.usersPage.currentPage},w=function(e){return e.usersPage.isFetching},A=function(e){return e.usersPage.followingInProgress},U=function(e){return e.usersPage.filter},y=n(2),R=n(6),C=n.n(R),x=n(14),P=n(29),N=n(10),T={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[],userId:"",filter:{term:"",friend:null}},I=function(e){return{type:"/USERS/FOLLOW",userId:e}},k=function(e){return{type:"/USERS/UNFOLLOW",userId:e}},L=function(e){return{type:"/USERS/SET_USERS",users:e}},F=function(e){return{type:"/USERS/SET_CURRENT-PAGE",currentPage:e}},M=function(e){return{type:"/USERS/SET_FILTER",payload:e}},G=function(e){return{type:"/USERS/SET-TOTAL-USERS-COUNT",totalUsersCount:e}},D=function(e){return{type:"/USERS/TOGGLE-IS-FETCHING",isFetching:e}},H=function(e,t){return{type:"/USERS/TOGGLE-IS-FOLLOWING=PROGRESS",isFetching:e,userId:t}},K=function(e,t,n){return function(){var a=Object(x.a)(C.a.mark((function a(r){var c;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(D(!0)),r(F(e)),r(M(n)),a.next=5,N.f.getUsers(e,t,n.term,n.friend);case 5:c=a.sent,r(D(!1)),r(L(c.items)),r(G(c.totalCount));case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},z=function(){var e=Object(x.a)(C.a.mark((function e(t,n,a,r){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(H(!0,n)),e.next=3,a(n);case 3:e.sent.resultCode===N.b.Success&&t(r(n)),t(H(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),q=n(52),B=n(45),J=n.n(B),Y=function(e){for(var t=e.pageSize,n=e.totalUsersCount,a=e.currentPage,r=e.onPageChanged,c=e.portionSize,u=void 0===c?10:c,i=Math.ceil(n/t),o=[],f=1;f<=i;f++)o.push(f);var d=Math.ceil(i/u),m=Object(s.useState)(1),p=Object(q.a)(m,2),E=p[0],g=p[1],h=(E-1)*u+1,b=E*u,v=function(e){return a===e?"".concat(J.a.pageNumber,"  ").concat(J.a.selectedPage):J.a.pageNumber};return l.a.createElement("div",{className:J.a.paginator},E>1?l.a.createElement("span",null,l.a.createElement("button",{onClick:function(){return g(1)}},"to start"),l.a.createElement("button",{onClick:function(){return g(E-1)}},"PREV")):"",o.filter((function(e){return e>=h&&e<=b})).map((function(e){return l.a.createElement("span",{className:v(e),key:e,onClick:function(t){r(e)}},e)})),d>E?l.a.createElement("span",null,l.a.createElement("button",{className:J.a.paginator_btn,onClick:function(){return g(E+1)}},"NEXT"),l.a.createElement("button",{onClick:function(){return g(d)}},"to end")):"")},V=n(143),Q=n.n(V),W=n(114),X=n.n(W),Z=function(e){var t=e.user,n=e.followingInProgress,a=e.follow,r=e.unfollow;return l.a.createElement("div",null,l.a.createElement("div",{key:t.id},l.a.createElement("span",null,l.a.createElement("div",{className:Q.a.PhotoAva},l.a.createElement(m.b,{to:"/profile/"+t.id},l.a.createElement("img",{alt:"ava",src:null!=t.photos.small?t.photos.small:X.a}))),l.a.createElement("div",null,t.followed?l.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)}},"Unfollow"):l.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){a(t.id)}},"Follow"))),l.a.createElement("span",null,l.a.createElement("span",null,l.a.createElement("div",null,t.name),l.a.createElement("div",null,t.status)),l.a.createElement("span",null,l.a.createElement("div",null,"user.location.country"),l.a.createElement("div",null,"user.location.city")))))},_=n(57),$=function(e){return{}},ee=l.a.memo((function(e){var t=Object(g.d)(U);return l.a.createElement("div",null,l.a.createElement(_.c,{enableReinitialize:!0,initialValues:{term:t.term,friend:String(t.friend)},validate:$,onSubmit:function(t,n){var a=n.setSubmitting,r={term:t.term,friend:"null"===t.friend?null:"true"===t.friend};e.onFilterChanged(r),a(!1),console.log(r)}},(function(e){var t=e.isSubmitting;return l.a.createElement(_.b,null,l.a.createElement(_.a,{type:"text",name:"term"}),l.a.createElement(_.a,{name:"friend",as:"select"},l.a.createElement("option",{value:"null"}," All"),l.a.createElement("option",{value:"true"}," Only Followed"),l.a.createElement("option",{value:"false"}," Only Unfollowed")),l.a.createElement("button",{type:"submit",disabled:t},"Find"))})))})),te=n(99),ne=function(){var e=Object(g.d)(O),t=Object(g.d)(j),n=Object(g.d)(v),a=Object(g.d)(S),r=Object(g.d)(A),c=Object(g.d)(U),u=Object(g.c)(),i=Object(E.g)();Object(s.useEffect)((function(){var e=te.parse(i.location.search.substr(1)),n=t,r=c;e.page&&(n=+e.page),e.term&&(r=Object(y.a)(Object(y.a)({},r),{},{term:e.term})),e.friend&&(r=Object(y.a)(Object(y.a)({},r),{},{friend:"null"===e.friend?null:"true"===e.friend})),u(K(n,a,r))}),[u]),Object(s.useEffect)((function(){var e={};c.term&&(e.term=c.term),null!==c.friend&&(e.friend=String(c.friend)),1!==t&&(e.page=String(t)),i.push({pathname:"/users",search:te.stringify(e)})}),[c,t,i]);var o=function(e){u(function(e){return function(){var t=Object(x.a)(C.a.mark((function t(n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z(n,e,N.f.follow.bind(N.f),I);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},f=function(e){u(function(e){return function(){var t=Object(x.a)(C.a.mark((function t(n){var a,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=N.f.unfollow.bind(N.f),r=k,t.next=4,z(n,e,a,r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))};return l.a.createElement("div",null,l.a.createElement(ee,{onFilterChanged:function(e){u(K(1,a,e))}}),l.a.createElement(Y,{currentPage:t,onPageChanged:function(e){u(K(e,a,c))},pageSize:a,totalUsersCount:e,portionSize:5}),n.map((function(e){return l.a.createElement(Z,{key:e.id,user:e,follow:o,unfollow:f,followingInProgress:r})})))},ae=function(){var e=Object(g.d)(w);return l.a.createElement(l.a.Fragment,null,e?l.a.createElement(h.a,null):null,l.a.createElement(ne,null))},re=n(100),ce=n.n(re);function ue(e){return l.a.createElement("header",{className:ce.a.header},l.a.createElement("a",{href:"/profile"},l.a.createElement("img",{alt:"logo",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Logo_TV_2015.svg/1200px-Logo_TV_2015.svg.png"})),l.a.createElement("div",{className:ce.a.header_loginBlock},e.isAuth?l.a.createElement("div",null,l.a.createElement("div",null,e.login),l.a.createElement("button",{onClick:e.logout}," Logout")):l.a.createElement(m.b,{to:"/login"},"Login")))}var ie=n(38),oe={userId:null,email:null,login:null,isFetching:null,isAuth:!1,captchaUrl:null},se=function(e,t){return{type:"/AUTH/SET-USER-DATA",data:e,isAuth:t}},le=function(e){return{type:"/AUTH/SET-CAPTHA-SUCCESS",captchaUrl:e}},fe=function(){return function(){var e=Object(x.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.c.authMe();case 2:(n=e.sent).resultCode===N.b.Success&&t(se(n.data,!0));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},de=function(){return function(){var e=Object(x.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.e.getCaptchaUrl();case 2:n=e.sent,t(le(n.url));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},me=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return l.a.createElement(ue,{login:this.props.login,isAuth:this.props.isAuth,isFetching:this.props.isFetching,logout:this.props.logout})}}]),n}(l.a.Component),pe=Object(g.b)((function(e){return{login:e.auth.login,isFetching:e.auth.isFetching,isAuth:e.auth.isAuth}}),{logout:function(){return function(){var e=Object(x.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.c.logout();case 2:e.sent.resultCode===N.b.Success&&t(se({id:null,email:null,login:null},!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(me),Ee=n(136),ge=n(137),he=n(80),be=n(61),ve=n(73),Se=n.n(ve),Oe=Object(ge.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return l.a.createElement("form",{onSubmit:t},l.a.createElement("div",null,l.a.createElement(Ee.a,{component:he.a,type:"email",name:"email",placeholder:"login",validate:[be.a]})),l.a.createElement("div",null,l.a.createElement(Ee.a,{component:he.a,type:"password",name:"password",placeholder:"password",validate:[be.a]})),n&&l.a.createElement("div",{className:Se.a.formSummaryError},n),l.a.createElement("div",null,l.a.createElement(Ee.a,{component:"input",type:"checkbox",name:"rememberMe"})," Remember me"),e.captchaUrl&&l.a.createElement("img",{src:e.captchaUrl,alt:"captcha img"}),e.captchaUrl&&l.a.createElement("div",null,l.a.createElement(Ee.a,{component:"input",type:"text",name:"captcha",placeholder:"anti bot symbols",validate:[be.a]})," Enter symbols from image.."),l.a.createElement("div",null,l.a.createElement("button",null," Login")))})),je=function(e){var t=Object(g.d)((function(e){return e.auth.captchaUrl})),n=Object(g.d)((function(e){return e.auth.isAuth})),a=Object(g.c)();return n?l.a.createElement(E.a,{to:"/profile"}):l.a.createElement("div",null,l.a.createElement("h1",null," LOGIN "),l.a.createElement(Oe,{captchaUrl:t,onSubmit:function(e){var t,n,r,c;console.log(e),a((t=e.email,n=e.password,r=e.rememberMe,c=e.captcha,function(){var e=Object(x.a)(C.a.mark((function e(a){var u,i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.c.login(t,n,r,c);case 2:(u=e.sent).resultCode===N.b.Success?a(fe()):(u.resultCode===N.a.CaptchaIsRequired&&a(de()),i=u.messages.length>0?u.messages[0]:"Some error",a(Object(ie.a)("login",{_error:i})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}}),l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("b",null,"For Testing:")),l.a.createElement("p",null,"Email: free@samuraijs.com"),l.a.createElement("p",null,"Password: free")))},we=n(11),Ae=n(103),Ue=n(135),ye=n(147),Re=n(138),Ce=function(){return{type:"INITIALIZED-APP"}},xe={initialized:!1},Pe={"messages-received":[],"status-changed":[]},Ne=null,Te=function(){Me("ready")},Ie=function(){Me("pending"),setTimeout(Ge,3e3)},ke=function(e){var t=JSON.parse(e.data);Pe["messages-received"].forEach((function(e){return e(t)}))},Le=function(){Me("error")},Fe=function(){var e,t,n,a;null===(e=Ne)||void 0===e||e.removeEventListener("close",Ie),null===(t=Ne)||void 0===t||t.removeEventListener("message",ke),null===(n=Ne)||void 0===n||n.removeEventListener("open",Te),null===(a=Ne)||void 0===a||a.removeEventListener("error",Le)},Me=function(e){Pe["status-changed"].forEach((function(t){return t(e)}))};function Ge(){var e;Fe(),null===(e=Ne)||void 0===e||e.close(),Ne=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx"),Me("pending"),Ne.addEventListener("close",Ie),Ne.addEventListener("message",ke),Ne.addEventListener("open",Te),Ne.addEventListener("error",Le)}var De=function(){Ge()},He=function(){var e;Pe["messages-received"]=[],Pe["status-changed"]=[],Fe(),null===(e=Ne)||void 0===e||e.close()},Ke=function(e,t){return Pe[e].push(t),function(){Pe[e]=Pe[e].filter((function(e){return e!==t}))}},ze=function(e,t){Pe[e]=Pe[e].filter((function(e){return e!==t}))},qe=function(e){var t;null===(t=Ne)||void 0===t||t.send(e)},Be=n(22),Je={messages:[],status:"pending"},Ye=null,Ve=function(e){return null===Ye&&(Ye=function(t){e(Xe.setMessages(t))}),Ye},Qe=null,We=function(e){return null===Qe&&(Qe=function(t){e(Xe.changeStatus(t))}),Qe},Xe={setMessages:function(e){return{type:"CHAT/SET-MESSAGES",payload:{messages:e}}},changeStatus:function(e){return{type:"CHAT/STATUS-CHANGED",payload:{status:e}}},cleanMessage:function(){return{type:"CHAT/CLEAN-MESSAGES"}}},Ze=Object(we.c)({profilePage:Ae.d,messagesPage:Ue.b,usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"/USERS/FOLLOW":return Object(y.a)(Object(y.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(y.a)(Object(y.a)({},e),{},{followed:!0}):e}))});case"/USERS/UNFOLLOW":return Object(y.a)(Object(y.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(y.a)(Object(y.a)({},e),{},{followed:!1}):e}))});case"/USERS/SET_USERS":return Object(y.a)(Object(y.a)({},e),{},{users:Object(P.a)(t.users)});case"/USERS/SET_CURRENT-PAGE":return Object(y.a)(Object(y.a)({},e),{},{currentPage:t.currentPage});case"/USERS/SET-TOTAL-USERS-COUNT":return Object(y.a)(Object(y.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"/USERS/TOGGLE-IS-FETCHING":return Object(y.a)(Object(y.a)({},e),{},{isFetching:t.isFetching});case"/USERS/TOGGLE-IS-FOLLOWING=PROGRESS":return Object(y.a)(Object(y.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(P.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});case"/USERS/SET_FILTER":return Object(y.a)(Object(y.a)({},e),{},{filter:t.payload});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"/AUTH/SET-USER-DATA":return Object(y.a)(Object(y.a)({},e),{},{userId:t.data.id,email:t.data.email,login:t.data.login,isAuth:t.isAuth});case"/AUTH/SET-CAPTHA-SUCCESS":return Object(y.a)(Object(y.a)({},e),{},{captchaUrl:t.captchaUrl});default:return e}},form:Re.a,chat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHAT/SET-MESSAGES":return Object(y.a)(Object(y.a)({},e),{},{messages:[].concat(Object(P.a)(e.messages),Object(P.a)(t.payload.messages.map((function(e){return Object(y.a)(Object(y.a)({},e),{},{id:Object(Be.a)()})})))).filter((function(e,t,n){return t>=n.length-100}))});case"CHAT/STATUS-CHANGED":return Object(y.a)(Object(y.a)({},e),{},{status:t.payload.status});case"CHAT/CLEAN-MESSAGES":return Object(y.a)(Object(y.a)({},e),{},{messages:[]});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED-APP":return Object(y.a)(Object(y.a)({},e),{},{initialized:!0});default:return e}}}),_e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||we.d,$e=Object(we.e)(Ze,_e(Object(we.a)(ye.a)));function et(e){return function(t){return l.a.createElement(s.Suspense,{fallback:l.a.createElement(h.a,null)},l.a.createElement(e,t))}}window._store_=$e;var tt=function(){return l.a.createElement("div",null,l.a.createElement(nt,null))},nt=function(){var e=Object(g.c)();Object(s.useEffect)((function(){return e(function(){var e=Object(x.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:De(),Ke("messages-received",Ve(t)),Ke("status-changed",We(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),function(){e(function(){var e=Object(x.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ze("messages-received",Ve(t)),ze("status-changed",We(t)),t(Xe.cleanMessage()),He();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}),[e]);return l.a.createElement("div",{style:{margin:" 100px auto",width:"50%",border:"1px solid black"}},l.a.createElement(at,null),l.a.createElement(ct,null))},at=l.a.memo((function(){var e=Object(s.useRef)(null),t=Object(g.d)((function(e){return e.chat.messages})),n=Object(s.useState)(!0),a=Object(q.a)(n,2),r=a[0],c=a[1];Object(s.useEffect)((function(){var t;r&&(null===(t=e.current)||void 0===t||t.scrollIntoView({behavior:"smooth"}))}),[r,t]);return l.a.createElement("div",{style:{height:"400px",overflowY:"auto",marginBottom:"30px"},onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<200?!r&&c(!0):r&&c(!1)}},t.map((function(t){return l.a.createElement("div",{key:t.id},l.a.createElement(rt,{message:t}),l.a.createElement("hr",null),l.a.createElement("div",{ref:e}))})))})),rt=l.a.memo((function(e){var t=e.message,n=t.photo,a=t.userName,r=t.message;return l.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",alignItems:"center"}},l.a.createElement("img",{style:{width:"40px",height:"40px"},src:n,alt:"user avatar"}),l.a.createElement("div",{style:{flexBasis:"80%"}},l.a.createElement("p",null,a," "),l.a.createElement("span",{style:{textAlign:"left"}},r)))})),ct=function(){var e=Object(s.useState)(""),t=Object(q.a)(e,2),n=t[0],a=t[1],r=Object(g.d)((function(e){return e.chat.status})),c=Object(g.c)();return l.a.createElement("div",null,l.a.createElement("textarea",{onChange:function(e){return a(e.currentTarget.value)},value:n}),l.a.createElement("div",null,l.a.createElement("button",{disabled:"ready"!==r,onClick:function(){var e;n&&(c((e=n,Object(x.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:qe(e);case 1:case"end":return t.stop()}}),t)}))))),a(""))}}," \u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))},ut=l.a.lazy((function(){return n.e(3).then(n.bind(null,309))})),it=l.a.lazy((function(){return n.e(4).then(n.bind(null,308))})),ot=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?l.a.createElement("div",{className:"App_wrapper"},l.a.createElement(pe,null),l.a.createElement(p,null),l.a.createElement("div",{className:"App_wrapper__content"},l.a.createElement(E.d,null,l.a.createElement(E.b,{exact:!0,path:"/",render:function(){return l.a.createElement(E.a,{to:"/profile"})}}),l.a.createElement(E.b,{path:"/profile/:userId?",render:et(it)}),l.a.createElement(E.b,{path:"/login",render:function(){return l.a.createElement(je,null)}}),l.a.createElement(E.b,{path:"/dialogs",render:et(ut)}),l.a.createElement(E.b,{path:"/users",render:function(){return l.a.createElement(ae,null)}}),l.a.createElement(E.b,{path:"/chat",render:function(){return l.a.createElement(tt,null)}}),l.a.createElement(E.b,{path:"*",render:function(){return l.a.createElement("div",null," Sorry, Page NOT FOUND")}})))):l.a.createElement(h.a,null)}}]),n}(l.a.Component),st=Object(we.d)(E.h,Object(g.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){e(fe()).then((function(){e(Ce())}))}}}))(ot),lt=function(){return l.a.createElement(m.a,null,l.a.createElement(g.a,{store:$e},l.a.createElement(st,null)))};r.a.render(l.a.createElement(lt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},41:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),r=n.n(a),c=n(140),u=n.n(c),i={width:"60px",height:"60px"},o=function(){return r.a.createElement("img",{src:u.a,alt:"preloader",style:i})}},45:function(e,t,n){e.exports={paginator:"Paginator_paginator__DKLKX",pageNumber:"Paginator_pageNumber__2HCfe",selectedPage:"Paginator_selectedPage__YduRb",paginator_btn:"Paginator_paginator_btn__33sRJ"}},61:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a=function(e){if(!e)return"Field id required"},r=function(e){return function(t){if(t&&t.length>e)return"Max length ".concat(e," symbols")}}},73:function(e,t,n){e.exports={error:"FormControl_error__39Uyn",formSummaryError:"FormControl_formSummaryError__2MsIf"}},80:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var a=n(95),r=n(0),c=n.n(r),u=n(73),i=n.n(u),o=function(e){var t=e.meta,n=e.children,a=t.touched&&t.error;return c.a.createElement("div",{className:a?i.a.error:""},c.a.createElement("div",null,n),a&&c.a.createElement("span",null," ",t.error," "))},s=function(e){var t=e.input,n=(e.meta,Object(a.a)(e,["input","meta"]));return c.a.createElement(o,e," ",c.a.createElement("textarea",Object.assign({},t,n)))},l=function(e){var t=e.input,n=(e.meta,Object(a.a)(e,["input","meta"]));return c.a.createElement(o,e," ",c.a.createElement("input",Object.assign({},t,n)))}}},[[173,1,2]]]);
//# sourceMappingURL=main.68fc098e.chunk.js.map